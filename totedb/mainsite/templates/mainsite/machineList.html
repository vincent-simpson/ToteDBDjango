<!DOCTYPE html>
<html
	lang="en"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>

<meta charset="utf-8">
<meta
	content="IE=edge"
	http-equiv="X-UA-Compatible">
<meta
	content="width=device-width, initial-scale=1, shrink-to-fit=no"
	name="viewport">
<meta
	content=""
	name="description">
<meta
	content=""
	name="author">
<meta
	name="_csrf"
	th:content="${_csrf.token}" />
<meta
	name="_csrf_header"
	th:content="${_csrf.headerName}" />

<title>Tote DB</title>

<!-- Custom fonts for this template-->
<link
	rel="stylesheet"
	th:href="@{/vendor/fontawesome-free/css/all.min.css}"
	type="text/css">
<link
	href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
	rel="stylesheet">

<!-- Custom styles for this template-->
<link
	rel="stylesheet"
	th:href="@{/css/sb-admin-2.min.css}">

<!-- Custom styles for this page -->
<link
	rel="stylesheet"
	th:href="@{/vendor/datatables/dataTables.bootstrap4.min.css}">

<link
	href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">

<script
	src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"
	type="text/javascript"></script>
<script
	src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"
	type="text/javascript"></script>
<script
	src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.velocity.min.js"
	type="text/javascript"></script>
<script
	src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.min.js"
	type="text/javascript"></script>
<script
	src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.min.js"
	type="text/javascript"></script>
<script
	src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"
	type="text/javascript"></script>
<script
	src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TimelineMax.min.js"
	type="text/javascript"></script>

</head>

<body id="page-top">

	<!-- Page Wrapper -->
	<div id="wrapper">

		<!-- Sidebar -->
		<ul
			class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion"
			id="accordionSidebar">

			<!-- Sidebar - Brand -->
			<a
				class="sidebar-brand d-flex align-items-center justify-content-center"
				href="/">
				<div class="sidebar-brand-text mx-3">Tote DB</div>
			</a>

			<!-- Divider -->
			<hr class="sidebar-divider my-0">

			<!-- Nav Item - Dashboard -->
			<li class="nav-item"><a
				class="nav-link"
				href="/"> <i class="fas fa-fw fa-tachometer-alt"></i> <span>Dashboard</span>
			</a></li>

			<!-- Divider -->
			<hr class="sidebar-divider">

			<!-- Heading -->
			<div class="sidebar-heading">Interface</div>

			<!-- Nav Item - Pages Collapse Menu -->
			<li class="nav-item"><a
				class="nav-link collapsed"
				href="#"
				data-toggle="collapse"
				data-target="#collapseTwo"
				aria-expanded="true"
				aria-controls="collapseTwo"> <i class="fas fa-fw fa-cog"></i> <span>Employees</span>
			</a>
				<div
					id="collapseTwo"
					class="collapse"
					aria-labelledby="headingTwo"
					data-parent="#accordionSidebar">
					<div class="bg-white py-2 collapse-inner rounded">
						<a
							class="collapse-item"
							href="/employees/list">Employee List</a>
					</div>
				</div></li>

			<!-- Nav Item - Utilities Collapse Menu -->
			<li class="nav-item active"><a
				class="nav-link"
				href="#"
				data-toggle="collapse"
				data-target="#collapseUtilities"
				aria-expanded="true"
				aria-controls="collapseUtilities"> <i class="fas fa-fw fa-wrench"></i> <span>Utilities</span>
			</a>
				<div
					id="collapseUtilities"
					class="collapse show"
					aria-labelledby="headingUtilities"
					data-parent="#accordionSidebar">
					<div class="bg-white py-2 collapse-inner rounded">
						<a
							class="collapse-item"
							href="/machines/machineMasterList">Machine Master List</a>
					</div>
				</div></li>

			<!-- Divider -->
			<hr class="sidebar-divider d-none d-md-block">

			<!-- Sidebar Toggler (Sidebar) -->
			<div class="text-center d-none d-md-inline">
				<button
					class="rounded-circle border-0"
					id="sidebarToggle"></button>
			</div>

		</ul>
		<!-- End of Sidebar -->

		<!-- Content Wrapper -->
		<div
			id="content-wrapper"
			class="d-flex flex-column">

			<!-- Main Content -->
			<div id="content">

				<!-- Topbar -->
				<nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

					<!-- Sidebar Toggle (Topbar) -->
					<button
						id="sidebarToggleTop"
						class="btn btn-link d-md-none rounded-circle mr-3">
						<i class="fa fa-bars"></i>
					</button>

					<!-- Topbar Navbar -->
					<ul class="navbar-nav ml-auto">

						<!-- Nav Item - Search Dropdown (Visible Only XS) -->
						<li class="nav-item dropdown no-arrow d-sm-none"><a
							class="nav-link dropdown-toggle"
							href="#"
							id="searchDropdown"
							role="button"
							data-toggle="dropdown"
							aria-haspopup="true"
							aria-expanded="false"> <i class="fas fa-search fa-fw"></i>
						</a> <!-- Dropdown - Messages -->
							<div
								class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in"
								aria-labelledby="searchDropdown">
								<form
									class="form-inline mr-auto w-100 navbar-search"
									action="">
									<div class="input-group">
										<input
											type="text"
											class="form-control bg-light border-0 small"
											placeholder="Search for..."
											aria-label="Search"
											aria-describedby="basic-addon2">
										<div class="input-group-append">
											<button
												class="btn btn-primary"
												type="button">
												<i class="fas fa-search fa-sm"></i>
											</button>
										</div>
									</div>
								</form>
							</div></li>

						<!-- Nav Item - Alerts -->
						<li class="nav-item dropdown no-arrow mx-1"><a
							class="nav-link dropdown-toggle"
							href="#"
							id="alertsDropdown"
							role="button"
							data-toggle="dropdown"
							aria-haspopup="true"
							aria-expanded="false"> <i class="fas fa-bell fa-fw"></i> <!-- Counter - Alerts --> <span class="badge badge-danger badge-counter">3+</span>
						</a> <!-- Dropdown - Alerts -->
							<div
								class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
								aria-labelledby="alertsDropdown">
								<h6 class="dropdown-header">Alerts Center</h6>
								<a
									class="dropdown-item d-flex align-items-center"
									href="#">
									<div class="mr-3">
										<div class="icon-circle bg-primary">
											<i class="fas fa-file-alt text-white"></i>
										</div>
									</div>
									<div>
										<div class="small text-gray-500">December 12, 2019</div>
										<span class="font-weight-bold">A new monthly report is ready to download!</span>
									</div>
								</a> <a
									class="dropdown-item d-flex align-items-center"
									href="#">
									<div class="mr-3">
										<div class="icon-circle bg-success">
											<i class="fas fa-donate text-white"></i>
										</div>
									</div>
									<div>
										<div class="small text-gray-500">December 7, 2019</div>
										$290.29 has been deposited into your account!
									</div>
								</a> <a
									class="dropdown-item d-flex align-items-center"
									href="#">
									<div class="mr-3">
										<div class="icon-circle bg-warning">
											<i class="fas fa-exclamation-triangle text-white"></i>
										</div>
									</div>
									<div>
										<div class="small text-gray-500">December 2, 2019</div>
										Spending Alert: We've noticed unusually high spending for your account.
									</div>
								</a> <a
									class="dropdown-item text-center small text-gray-500"
									href="#">Show All Alerts</a>
							</div></li>

						<div class="topbar-divider d-none d-sm-block"></div>

						<!-- Nav Item - User Information -->
						<li class="nav-item dropdown no-arrow"><a
							class="nav-link dropdown-toggle"
							href="#"
							id="userDropdown"
							role="button"
							data-toggle="dropdown"
							aria-haspopup="true"
							aria-expanded="false"> <span
								class="mr-2 d-none d-lg-inline text-gray-600 small"
								th:text="${#authentication.name}"></span>
						</a> <!-- Dropdown - User Information -->
							<div
								class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
								aria-labelledby="userDropdown">
								<a
									class="dropdown-item"
									href="#"> <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i> Profile
								</a> <a
									class="dropdown-item"
									href="#"> <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i> Settings
								</a> <a
									class="dropdown-item"
									href="#"> <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i> Activity Log
								</a>
								<div class="dropdown-divider"></div>
								<a
									class="dropdown-item"
									href="#"
									data-toggle="modal"
									data-target="#logoutModal"> <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i> Logout
								</a>
							</div></li>

					</ul>

				</nav>
				<!-- End of Topbar -->

				<!-- Begin Page Content -->
				<div class="container-fluid">

					<!-- Page Heading -->
					<h1 class="h3 mb-1 text-gray-800">Betting Areas</h1>

					<!-- Content Row -->
					<div class="row">

						<div class="col-lg-6">

							<!-- Overflow Hidden -->
							<div
								class="card mb-4"
								style="border: hidden;">
								<div class="card-header py-3">
									<h6 class="m-0 font-weight-bold text-primary">
										<button
											class="btn btn-primary btn-sm"
											data-target="#addBettingAreaForm"
											data-toggle="modal">Add Betting Area</button>
									</h6>
								</div>

								<div
									id="bettingAreaModalHolder"
									th:fragment="modalAddBettingArea"></div>

								<!-- Start of Add Betting Area form -->
								<div
									class="modal fade"
									id="addBettingAreaForm"
									tabindex="-1"
									role="dialog"
									aria-labelledby="addBettingAreaForm"
									aria-hidden="true"
									th:fragment="modalAddBettingArea">

									<div
										class="modal-dialog"
										role="document">
										<div class="modal-content">
											<div class="modal-header text-center">
												<h3
													id="add-bettingArea-title"
													class="modal-title w-100 font-weight-bold"
													style="padding-bottom: 5px;"
													onclick="openBettingAreaModal('-1');">Add Betting Area</h3>
											</div>
											<form
												th:object="${bettingArea}"
												th:action="@{/bettingAreas/save}"
												th:method="POST">
												<div class="form-row">
													<div
														class="form-group col-md-6 justify-content-center cold-md-offset-3"
														style="float: none; margin: auto;">
														<input
															type="hidden"
															th:field="*{id}"> <input
															type="text"
															th:field="*{areaName}"
															id="defaultForm-betting-area"
															class="form-control"
															style="padding-top: 5px;"> <label
															data-error="wrong"
															data-success="right"
															for="defaultForm-betting-area">Betting Area Name</label>

													</div>

												</div>
												<div class="modal-footer d-flex justify-content-center">
													<button
														type="submit"
														class="btn btn-primary"
														id="add-bettingArea-button">Add</button>

													<button
														class="btn btn-primary"
														data-dismiss="modal"
														aria-label="Close">Cancel</button>
												</div>
											</form>
										</div>
									</div>

								</div>
								<!-- End of Add Betting Area form -->
							</div>
						</div>
					</div>

					<div class="row">

						<div class="col-lg-12">

							<div
								class="accordion"
								id="accordionExample">
								<table
									class="table table-bordered"
									id="bettingAreaTable"
									width="100%"
									cellspacing="0">

									<tbody>
										<tr th:each="tempBettingArea : ${bettingAreas}">
											<td>
												<div class="card">
													<div
														class="card-header"
														id="headingTwo">
														<h5 class="mb-0">
															<input
																type="hidden"
																th:value="${tempBettingArea.id}"
																id="tempBettingArea-holder">
															<button
																class="btn btn-link"
																type="button"
																id="betting-area-header"
																data-toggle="collapse"
																th:attr="data-target=${'#accordian_' + tempBettingArea.id}, aria-controls=${'accordian_' + tempBettingArea.id}"
																aria-expanded="true"
																th:text="${tempBettingArea.areaName}"></button>

															<!-- 	th:href="@{/bettingAreas/delete(bettingAreaId=${tempBettingArea.id})}" -->

															<a
																class="btn btn-danger btn-sm"
																style="float: right; color: white; cursor: pointer;"
																id="#deleteBettingAreaButton"
																th:onclick="|deleteBettingArea('${tempBettingArea.id}')|"> <i class="material-icons">&#xE872;</i>
															</a>

															<!-- TODO -->
															<a
																href="#"
																class="btn btn-primary btn-sm"
																style="float: right;"
																id="editBettingAreaButton"
																th:onclick="'javascript:openBettingAreaModal(\'' + ${tempBettingArea.id} + '\');'"> <i class="material-icons">&#xE254;</i>
															</a>

															<button
																class="btn btn-primary btn-md"
																id="betting-area-add-machine-button">Add Machine</button>

														</h5>

														<div
															id="blockOfHtml"
															style="display: none;">
															<div class="form-group row">
																<div class="col-10">
																	<input
																		class="form-control"
																		type="text"
																		id="notes-date-input"
																		value="">
																</div>
															</div>
														</div>

														<div
															id="notesModalHolder"
															th:fragment="modalAddNotes"></div>

														<div
															class="modal fade"
															id="modalAddNotesForm"
															tabindex="-1"
															role="dialog"
															aria-labelledby="modalAddNotes"
															aria-hidden="true"
															th:fragment="modalAddNotes">

															<div
																class="modal-dialog modal-lg"
																role="document">

																<div class="modal-content">
																	<div class="modal-header text-center">
																		<h4
																			id="add-notes-title"
																			class="modal-title w-100 font-weight-bold">
																			Add Notes <a
																				onclick="addRow(false, null, null); addNewNoteButtonClicked();"
																				class="btn btn-success btn-sm"
																				style="color: white; cursor: pointer;"
																				id="addDateButton"> <i class="material-icons">note_add</i>
																			</a>
																		</h4>
																	</div>

																	<form th:object="${notes}">

																		<div
																			class="form-row"
																			style="border: 0; border-left-width: 0px; border-left-style: solid; padding-left: 5px; padding-right: 5px;">
																			<div
																				class="form-group  flex-fill "
																				style="float: none; margin: auto;">
																				<input
																					type="hidden"
																					id="notes-modal-machine-id"
																					th:value="${machine.machineId}">


																				<div id="cont"></div>

																				<input
																					type="hidden"
																					id="note-id-holder"
																					value="">

																				<table
																					id="notesTable"
																					class="table"
																					width="100%">
																					<thead>
																						<tr>
																							<th class="text-center" width="10%">Action</th>
																							<th 
																								class="text-center"
																								width="30%">Date</th>
																							<th
																								class="text-center"
																								width="60%">Notes</th>
																						</tr>

																					</thead>
																					<tbody>
																						<!-- Open notes modal > machine bound to current model. Set machineId = machine.id -->
																						<tr th:each="tempNote : ${notes}">
																							<td><input
																								type="button"
																								value="Remove"
																								class="btn btn-primary btn-sm"
																								style="margin-bottom: 5px;"
																								th:onclick="|removeRow(this, '${tempNote.id}')|"></td>
																							<td th:text="${tempNote.date}"></td>
																							<td th:text="${tempNote.note}"></td>
																						</tr>

																					</tbody>

																				</table>

																			</div>

																		</div>

																	</form>

																</div>

															</div>
														</div>

														<div
															id="machineModalHolder"
															th:fragment="modalAddMachine"></div>

														<div
															class="modal fade"
															id="modalAddMachineForm"
															tabindex="-1"
															role="dialog"
															aria-labelledby="modalAddMachine"
															aria-hidden="true"
															th:fragment="modalAddMachine">

															<div
																class="modal-dialog"
																role="document">

																<div class="modal-content">

																	<div class="modal-header text-center">
																		<h4
																			id="add-machine-title"
																			class="modal-title w-100 font-weight-bold">Add Machine</h4>
																	</div>
																	<form
																		th:object="${machine}"
																		th:action="@{/bettingAreas/bind}">

																		<div class="form-row">
																			<div
																				class="form-group col-md-6 justify-content-center cold-md-offset-3"
																				style="float: none; margin: auto;">

																				<input
																					type="hidden"
																					th:field="*{machineId}"> <input
																					type="text"
																					th:field="*{lsnNumber}"
																					id="addMachine-lsnNumber"
																					class="form-control"><label
																					id="addMachine-lsnNumber-label"
																					data-error="wrong"
																					data-success="right"
																					for="addMachine-lsnNumber">LSN Number</label> <input
																					type="text"
																					th:field="*{serialNumber}"
																					id="addMachine-serialNumber"
																					class="form-control"><label
																					data-error="wrong"
																					data-success="right"
																					id="addMachine-serialNumber-label"
																					for="addMachine-serialNumber">Serial Number</label>


																			</div>

																		</div>
																		<div class="modal-footer d-flex justify-content-center">
																			<button
																				type="submit"
																				class="btn btn-primary"
																				id="add-machine-button">Add</button>
																			<button
																				class="btn btn-primary"
																				data-dismiss="modal"
																				aria-label="Close">Cancel</button>
																		</div>

																		<!-- javascript:openMachineModal('-1');  -->


																	</form>
																</div>
															</div>

														</div>



													</div>

													<div
														th:attr="id=${'accordian_' + tempBettingArea.id}"
														class="collapse"
														aria-labelledby="headingOne"
														data-parent="#accordionExample">
														<div class="card-body">

															<table
																class="table table-bordered"
																id="machineTable"
																width="100%"
																cellspacing="0">

																<thead>
																	<tr>
																		<th>LSN</th>
																		<th>Betting Area</th>
																		<th>Serial Number</th>
																		<th>Action</th>
																	</tr>
																</thead>

																<tbody>

																	<tr
																		th:each="tempMachine : ${machines}"
																		th:if="${tempMachine.bettingArea == tempBettingArea.id}">
																		<td th:text="${tempMachine.lsnNumber}"></td>
																		<td th:text="${tempBettingArea.areaName}"></td>
																		<td th:text="${tempMachine.serialNumber}"></td>
																		<td><a
																			href="#"
																			class="btn btn-primary btn-sm"
																			id="editMachineButton"
																			th:onclick="'javascript:openMachineModal(\'' + ${tempMachine.machineId} + '\');'"> <i class="material-icons">&#xE254;</i>
																		</a> <a
																			th:href="@{/machines/unbind(machineId=${tempMachine.machineId})}"
																			method="POST"
																			class="btn btn-danger btn-sm"
																			onclick="if (!(confirm('Are you sure you want to delete?'))) return false"> <i class="material-icons">&#xE872;</i>
																		</a> <a
																			href="#"
																			class="btn btn-success btn-sm"
																			id="addNotesButton"
																			th:onclick="'javascript:openNotesModal(\'' + ${tempMachine.machineId} + '\'); createEmptyNotesTable();'"> <i class="material-icons">&#xE89C;</i>

																		</a></td>
																	</tr>
																</tbody>
															</table>
														</div>
													</div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
				<!-- /.container-fluid -->
			</div>
			<!-- End of Main Content -->

			<!-- Footer -->
			<footer class="sticky-footer bg-white">
				<div class="container my-auto">
					<div class="copyright text-center my-auto">
						<span>Copyright &copy; Your Website 2019</span>
					</div>
				</div>
			</footer>
			<!-- End of Footer -->

		</div>
		<!-- End of Content Wrapper -->

	</div>
	<!-- End of Page Wrapper -->

	<!-- Scroll to Top Button-->
	<a
		class="scroll-to-top rounded"
		href="#page-top"> <i class="fas fa-angle-up"></i>
	</a>

	<!-- Logout Modal-->
	<div
		class="modal fade"
		id="logoutModal"
		tabindex="-1"
		role="dialog"
		aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<div
			class="modal-dialog"
			role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5
						class="modal-title"
						id="exampleModalLabel">Ready to Leave?</h5>
					<button
						class="close"
						type="button"
						data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">Ã—</span>
					</button>
				</div>
				<div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
				<div class="modal-footer">
					<button
						class="btn btn-secondary"
						type="button"
						data-dismiss="modal">Cancel</button>
					<form
						method="POST"
						th:action="@{/logout}">
						<button
							type="submit"
							class="btn btn-primary">Logout</button>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- Bootstrap core JavaScript-->
	<script th:src="@{/vendor/jquery/jquery.min.js}"></script>
	<script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>

	<!-- Core plugin JavaScript-->
	<script th:src="@{/vendor/jquery-easing/jquery.easing.min.js}"></script>


	<!-- Custom scripts for all pages-->
	<script th:src="@{/js/sb-admin-2.min.js}"></script>

	<!-- Page level plugins -->
	<script
		th:src="@{/vendor/datatables/jquery.dataTables.min.js}"
		type="text/javascript"></script>
	<script
		th:src="@{/vendor/datatables/dataTables.bootstrap4.min.js}"
		type="text/javascript"></script>

	<!-- Page level custom scripts -->
	<script
		th:src="@{/js/demo/datatables-demo.js}"
		type="text/javascript"></script>

	<script
		th:src="@{/js/extFunctions.js}"
		type="text/javascript"></script>

	<script>

	var rh = rh || {};
	rh.mq = rh.mq || {};

	rh.mq.attachEventHandlers = function () {
		$("#betting-area-add-machine-button").click(function() {

			let s = $("#tempBettingArea-holder").val();
			$(this).replaceWith( '<button class="btn btn-primary btn-md" ' +
					'data-target="#modalAddMachineForm" data-toggle="modal" ' +
					'onclick="bindParentButtonText(' + s + ')" ' +
					'style="margin-right: 5px;" ' +
					'id="betting-area-add-new-machine-button"> Add New Machine </button>',

					'<button class="btn btn-primary btn-md"' +
					'data-target="#modalAddMachineForm" data-toggle="modal"' +
					'onclick="bindParentButtonText(' + s + ')" ' +
					'id="betting-area-add-existing-machine-button">Add Existing Machine</button>'
			);
			attachExistingMachineEventHandler();
			attachNewMachineEventHandler();
		});
	};

	function attachNewMachineEventHandler() {
		$("#betting-area-add-new-machine-button").click(function() {
			//TODO: finish this
			let t = $('#select-serial-number');
			if (t !== null) {
				t.replaceWith('<input id="addMachine-lsnNumber" ' +
						'class="form-control" type="text" name="lsnNumber">' +
						'<label id="addMachine-lsnNumber-label" data-error="wrong" ' +
						'data-success="right" for="addMachine-lsnNumber">LSN Number</label>' +
						'<input id="addMachine-serialNumber" class="form-control" ' +
						'type="text" name="serialNumber"><label id="addMachine-serialNumber-label" ' +
						'data-error="wrong" data-success="right" for="addMachine-serialNumber">' +
						'</label>');

			}

		});
	}

	function attachExistingMachineEventHandler() {
		$("#betting-area-add-existing-machine-button").click(function() {
			$.ajax({
				type : 'GET',
				url : '/api/machines/getAll',
				dataType : "text",
				success : function(data) {
					let s = JSON.stringify(data);
					let q = JSON.parse(data);
					let html = '<select class="form-control" id="select-serial-number" ' +
							'name="serialNumber">';

					for (let t = 0; t < q.length; t ++) {
						let r = q[t].serialNumber;
						if(q[t].bettingArea === 0) {
							html += '<option value="' + r + '" ' +
									'name="serialNumber">' + r + '</option>';
						}

					}

					$("#addMachine-serialNumber").replaceWith(html);
					$("#addMachine-lsnNumber").remove();
					$("#addMachine-lsnNumber-label").remove();

				},
				failure : function(data) {
					console.log('failure: ' + data);
				},
				error : function(data) {
					console.log('error ', data);
				}

			});
		});
	}


	$(document).ready(function () {
		rh.mq.attachEventHandlers();

	});

</script>



</body>

</html>
